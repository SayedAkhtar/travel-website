<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quotation | Goa Adventure</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
  </head>
  <body style="font-family: 'Poppins', sans-serif">
    
    <table style="width: 100%">
      <tbody style="overflow: hidden">
        <!-- Table Header -->
        <tr style="width: 100%; border-bottom: 2px solid #d4d4d4">
          <td style="padding: 0.5rem" colspan="3">
            <div
              style="
                display: flex;
                flex-direction: row;
                gap: 1rem;
                align-items: center;
                width: 100%;
              "
            >
              <img
                src="/image/safarlogo.png"
                alt=""
                width="150px"
                height="150px"
              />
              <div>
                <h4 style="font-size: 1.5rem; color: #063158">
                  Safar Travel Express
                </h4>
                <address
                  style="font-size: 0.8rem; font-weight: 500; color: #010101"
                >
                  Calangute Beach, Car Parking<br />
                  Goa 403516, India <br />Contact: +91 7387960861<br />Email:
                  info@goaadventure.in<br />Website: www.goaadventure.in
                </address>
              </div>
            </div>
          </td>
          <td colspan="3">
            <span style="font-size: 1.5rem; font-weight: 600">Quotation</span>
            <ul
              style="
                font-weight: 500;
                padding-top: 0.5rem;
                list-style: none;
                font-size: 0.9rem;
                padding-left: 0;
              "
            >
              <li>
                <span style="font-weight: 600">Serial No.:</span>
                <%=id%>
              </li>
              <li>
                <span style="font-weight: 600">Date:</span> <%= new Date(createdAt).toLocaleDateString('en-GB') %>
              </li>
              <li>
                <span style="font-weight: 600">Sale Person:</span> MD Shabbir
                Ali
              </li>
            </ul>
          </td>
        </tr>
        <!-- Billing Information -->
        <tr style="width: 100%; border-bottom: 2px solid #d4d4d4">
          <td style="padding: 0.8rem" colspan="3">
            <span style="font-weight: 600">To</span>
            <div
              style="display: flex; flex-direction: column; padding-top: 0.8rem"
            >
              <span style="font-size: 1.05rem; font-weight: 500"
                ><%=name%></span
              >
              <!-- <span style="font-size: 0.9rem">Kolkata, India</span> -->
              <span style="font-size: 0.9rem"><%=mobile_number%></span>
            </div>
          </td>
          <td colspan="3">
            <ul
              style="
                font-weight: 500;
                padding-top: 0.5rem;
                list-style: none;
                font-size: 0.9rem;
                padding-left: 0;
              "
            >
              <li><span style="font-weight: 600">Destination: </span> Goa</li>
              <li>
                <span style="font-weight: 600">Hotel: </span> <%=hotel_name%>
              </li>
              <li><span style="font-weight: 600">Rooms: </span> <%=rooms%></li>
              <li>
                
                <span style="font-weight: 600">Check In: </span> <%= new Date(check_in).toLocaleDateString('en-GB') %>

              </li>
              <li>
                <span style="font-weight: 600">Check Out: </span> ,
               
                <%= new Date(check_out).toLocaleDateString('en-GB') %>
              </li>
              <li>
  <% 
  const checkInDate = new Date(check_in);
  const checkOutDate = new Date(check_out);
  const differenceInMilliseconds = checkOutDate - checkInDate;
  const nights = Math.floor(differenceInMilliseconds / (1000 * 60 * 60 * 24));
  const days = (nights + 1)

  console.log('Days:', days);
  console.log('Nights:', nights);
  %>
  
  <span style="font-weight: 600">Duration: <%= nights %>N <%= days %>D</span>
</li>

              <li>
                
                <span style="font-weight: 600">Total Person: </span><%=adult %>
                Adults <%=child%> Children
              </li>
            </ul>
          </td>
        </tr>
        <tr style="width: 100%; background-color: #fddaba; text-align: center">
          <th style="font-size: 0.9rem; padding: 0.5rem; text-align: left">
            Tour Package
          </th>
          <th style="font-size: 0.9rem; padding: 0.5rem; width: 10%">Adult No.</th>
          <th style="font-size: 0.9rem; padding: 0.5rem; width: 10%">
            Adult Price
          </th>
          <th style="font-size: 0.9rem; padding: 0.5rem; width: 10%">Child No.</th>
          <th style="font-size: 0.9rem; padding: 0.5rem; width: 10%">
            Child Price
          </th>

          <th style="font-size: 0.9rem; padding: 0.5rem; width: 10%">
            Total Amount
          </th>
        </tr>
        <tr
          style="
            border-bottom: 2px solid #d4d4d4;
            font-size: 0.9rem;
            font-weight: 500;
            text-align: center;
          "
        >
          <td style="text-align: left; padding: 0.5rem"><%=title%></td>
          <td style="padding: 0.5rem"><%=adult%> Adult</td>
          <td style="padding: 0.5rem"><%=adult_price%></td>
          <td style="padding: 0.5rem"><%=child%> Children</td>
          <td style="padding: 0.5rem"><%=child_price%></td>
          <td style="padding: 0.5rem"><%=total_amount%></td>
        </tr>

        <tr
          style="
            padding: 0.5rem;
            border-bottom: 2px solid #d4d4d4;
            font-size: 0.9rem;
            font-weight: 600;
          "
        >
          <td
            colspan="6"
            style="
              padding: 0.5rem;
              text-align: left;
              font-weight: 600;
              padding: 0.5rem;
            "
          >
            <div>
            <%- itinerary -%> 
            </div>
          </td>
        </tr>
        <tr
          style="
            padding: 0.5rem;

            border-bottom: 2px solid #d4d4d4;
            font-size: 0.9rem;
            font-weight: 600;
          "
        >
          <td
            colspan="6"
            style="
              padding: 0.5rem;

              text-align: left;
              font-weight: 600;
              padding: 0.5rem;
            "
          >
            <div
              style="
                display: flex;
                flex-direction: row;
                width: 100%;
                justify-content: space-between;
              "
            >
              <div>
                <span style="text-decoration: underline; color: #fd5726"
                  >Inclusion</span
                >
                <ul style="font-weight: 500; padding-top: 0.7rem">
               <%        
          const inclusionArray = inclusion.split('\n');
         inclusionArray.forEach(item => {
          %>
          <li><%= item %></li>
  <% 
  });
  %>
                </ul>
              </div>
              <div>
                <span style="text-decoration: underline; color: #fd5726"
                  >Exclusion</span
                >
                <ul style="font-weight: 500; padding-top: 0.7rem">
                 <%        
          const exclusionArray = exclusion.split('\n');
         exclusionArray.forEach(item => {
          %>
          <li><%= item %></li>
  <% 
  });
  %>
                </ul>
              </div>
            </div>
          </td>
        </tr>
        <tr
          style="
            padding: 0.5rem;

            border-bottom: 2px solid #d4d4d4;
            font-size: 0.9rem;
            font-weight: 600;
          "
        >
          <td
            colspan="6"
            style="
              padding: 0.5rem;

              text-align: left;
              font-weight: 600;
              padding: 0.5rem;
            "
          >
            <div>
              <span style="text-decoration: underline; color: #fd5726"
                >Cancellation & Refund Policy</span
              >
                      <%        
          const cancellationArray = cancellation_policy.split('\n');
         cancellationArray.forEach(item => {
          %>
          <li><%= item %></li>
  <% 
  });
  %>
              </ul>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </body>
</html>
